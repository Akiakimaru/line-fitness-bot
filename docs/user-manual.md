# 🤖 LINE Fitness Bot ユーザーマニュアル

## 📋 目次
1. [システム概要](#-システム概要)
2. [LINE Botの使い方](#-line-botの使い方)
3. [マイページの使い方](#-マイページの使い方)
4. [記録方法](#-記録方法)
5. [機能一覧](#-機能一覧)
6. [トラブルシューティング](#-トラブルシューティング)

---

## 🎯 システム概要

LINE Fitness Botは、**LINE**と**マイページ**の2つのインターフェースで構成されたフィットネス管理システムです。

### 🔄 役割分担
- **LINE Bot**: データ入力とリマインド
- **マイページ**: 進捗確認と機能案内

### 🎨 特徴
- **シンプル**: LINEで簡単記録
- **視覚的**: マイページで進捗確認
- **セキュア**: 署名付きリンクで個人情報保護
- **モバイル対応**: iPhone/Android最適化

---

## 📱 LINE Botの使い方

### 🚀 初期設定
1. **LINE Bot**を友達追加
2. 初回メッセージで自動登録
3. すぐに記録開始可能

### 💬 基本コマンド

#### 📊 メニュー表示
```
今日のメニュー
```
- 当日の食事・トレーニングメニューを表示
- 週次で自動生成・配信

#### 🍽 食事記録
```
食事
```
- 2段階フローで記録
- 時刻指定可能（例：`食事 07:30`）

#### 💪 ジム記録
```
ジム
```
- トレーニング内容を記録
- 時刻指定可能（例：`ジム 19:00`）

#### ⚖️ 体重記録
```
体重 65.5
```
- 数値のみで記録
- 単位は自動でkg

#### 📊 マイページ
```
マイページ
```
- 個人専用ダッシュボードへアクセス
- 署名付きリンクを生成

#### 🚴‍♂️ HIITプラン
```
HIIT
```
- 20分サイクリングHIITプランへアクセス
- 静的ページで詳細表示

### 🎯 クイックリプライ
LINE Botには**6つのクイックリプライ**が用意されています：
- 今日のメニュー
- 食事ログ
- ジムログ
- 体重ログ
- マイページ
- HIITプラン

---

## 📊 マイページの使い方

### 🔗 アクセス方法
1. LINE Botで「**マイページ**」と送信
2. 返信されたリンクをタップ
3. マイページが開きます

### 📈 ダッシュボード機能

#### 🎯 KPIカード（4つ）
| カード | 内容 | 色 |
|--------|------|-----|
| 🍽 **食事記録** | 直近7日間の食事記録数 | 緑 |
| 💪 **ジム記録** | 直近7日間のジム記録数 | 赤 |
| ⚖️ **体重記録** | 直近7日間の体重記録数 | 黄 |
| 📅 **連続記録日** | 記録がある日数 | 青 |

#### 🔧 アクションボタン（4つ）
| ボタン | 機能 |
|--------|------|
| 📱 **LINE Bot** | 使い方案内表示 |
| 🚴‍♂️ **HIITプラン** | HIITプランページへ直接リンク |
| 🍽 **今日のメニュー** | メニュー確認方法案内 |
| 🔄 **更新** | データ再読み込み |

#### 📝 記録一覧
- **直近7日間**の記録を時系列表示
- **日時**: JST形式（yyyy/MM/dd HH:mm）
- **種別**: 🍽食事 / 💪ジム / ⚖️体重
- **内容**: 記録した詳細内容

---

## 📝 記録方法

### 🍽 食事記録

#### 方法1: 2段階フロー
```
1. 「食事」と送信
2. 食事内容を送信（例：「朝食：パン、コーヒー」）
```

#### 方法2: ワンショット
```
食事 07:30
朝食：パン、コーヒー
```

### 💪 ジム記録

#### 方法1: 2段階フロー
```
1. 「ジム」と送信
2. トレーニング内容を送信（例：「ベンチプレス 50kg×10回×3セット」）
```

#### 方法2: ワンショット
```
ジム 19:00
ベンチプレス 50kg×10回×3セット
```

### ⚖️ 体重記録
```
体重 65.5
```
- 数値のみで記録
- 小数点対応
- 単位は自動でkg

---

## 🎨 機能一覧

### 📊 データ管理
- **Google Sheets**でデータ保存
- **自動バックアップ**
- **データ整合性**チェック

### 🔔 リマインド機能
- **朝のリマインド**: 毎朝5時
- **夜のリマインド**: 毎夜21時
- **週次メニュー配信**: 毎週日曜日

### 🎯 メニュー生成
- **AI生成**: OpenAI GPT-4o-mini使用
- **個人化**: ユーザー履歴に基づく提案
- **バリエーション**: 週次で異なるメニュー

### 🔒 セキュリティ
- **署名付きリンク**: HMAC-SHA256
- **有効期限**: 7日間
- **個人情報保護**: ユーザーID暗号化

### 📱 モバイル対応
- **レスポンシブデザイン**
- **タッチフレンドリー**
- **高速読み込み**

---

## 🆘 トラブルシューティング

### ❌ よくある問題

#### Q: LINE Botが応答しない
**A**: 
1. インターネット接続を確認
2. LINE Botが友達登録されているか確認
3. しばらく時間をおいて再試行

#### Q: マイページが開かない
**A**: 
1. LINE Botで「マイページ」と再送信
2. 新しいリンクを取得
3. ブラウザのキャッシュをクリア

#### Q: 記録が反映されない
**A**: 
1. マイページの「🔄 更新」ボタンを押す
2. ページを再読み込み
3. 数分待ってから再確認

#### Q: リンクの有効期限切れ
**A**: 
1. LINE Botで「マイページ」と再送信
2. 新しい署名付きリンクを取得
3. 7日以内に再アクセス

### 🔧 エラーメッセージ

#### "Load failed: HTTP 401"
- リンクの有効期限切れ
- 解決策：LINE Botで新しいリンクを取得

#### "Load failed: HTTP 500"
- サーバーエラー
- 解決策：しばらく待ってから再試行

#### "記録がありません"
- まだ記録を入力していない
- 解決策：LINE Botで記録を開始

---

## 📞 サポート

### 🆘 ヘルプ
LINE Botに「**ヘルプ**」と送信すると、基本的な使い方を確認できます。

### 📧 連絡先
技術的な問題や要望がある場合は、LINE Bot経由でお問い合わせください。

---

## 🔄 更新履歴

### v1.0 (2025年1月)
- 初期リリース
- LINE Bot基本機能
- マイページダッシュボード
- HIITプラン静的ページ

---

**最終更新**: 2025年1月  
**バージョン**: 1.0  
**対象**: 全ユーザー
